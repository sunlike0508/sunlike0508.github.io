---
title:  "자바 개념공부 05"
excerpt: "Static에 대해서"
classes: wide
categories:
  - java
tags:
  - java
  - static
last_modified_at: 2020-04-13
---

#### Static변수와 Static메소드



**Static에 대해서**

![]({{site.url}}/assets/images/static.jfif)

*일반적인 class는 static 영역에 생성, new로 생성된 객체는 heap 영역에 생성

*static은 GC에 관리가 안됨. 그래서 자주 사용하면 메모리가 할당된 채로 존재하여 성능에 안좋을 수 도 있음. 그러나 모든 객체가 공유하기 때문에 설계에 따라서 잘 사용하여야 함.



**Static 변수**

*static 변수는 클래스 변수이다

*객체를 생성하지 않고 접근이 가능하다.

*일반적으로 static은 공통으로 사용되는 상수 값으로 사용되기 때문에 public을 붙여준다.

(**상수란?** 프로그램이 실행되는 동안(선언과 값설정을 동시에 했다면) 값을 변경할수 없는 것을 말한다. 쉽게 말해 다시 재정의가 불가능 한 변환되지 않는 값을 말한다.) (접근제어자에 대해서 따로 포스팅)

*재할당 하길 원치 않으면 final을 붙여준다. (Collection의 경우 값은 변할 수 있다. final에 대해서는 따로 포스팅)

*static 변수는 static 메소드로 접근하는게 일반적이다.

```java
public class MyCalculator {
    public static final appName = "MyCalculator"; // 상수 값으로 값을 변하지 않기 위해 사용
         
    public static int add(int x, int y) {
        return x + y;
    }
 
    public int min(int x, int y) {
        return x - y;
    }
}
-----------------------------------------------------------------------
MyCalculator.add(1, 2);   //  static 메소드 이므로 객체 생성 없이 사용 가능
MyCalculator.min(1, 2);   //  static 메소드가 아니므로 객체 생성후에 사용가능
 
MyCalculator cal = new MyCalculator();
cal.add(1, 2);   // o 가능은 하지만 권장하지 않는 방법
cal.min(1, 2);   // o

System.out.println(Mycalculator.appName); // 결과 값으로 MyCalculator
-----------------------------------------------------------------------

// 메모리 공유하는 static 변수
public class Counter  {
    static int count = 0;
    Counter() {
        this.count++;
        System.out.println(this.count);
    }

    public static void main(String[] args) {
        Counter c1 = new Counter(); // 결과 값으로 1
        Counter c2 = new Counter(); // 결과 값으로 2
    }
}

```



**Static 메소드**

*객체 생성 없이 메소드 호출이 가능

*객체에서는 호출이 불가능. 완전 불가능하기 보다 객체를 생성하여 사용하는 것을 권장하지 않음.

(예제로 위에 MyCalculator 객체를 생성해서 min을 호출하는 코드를 보면 됨)

*유틸리티 관련 함수들을 구현할 때 사용. 예를 들어 날짜, 수학 계산 등

```java
public class Test {
    private String name1 = "MangKyu";
    private static String name2 = "MangKyu";
 
    public static void printMax(int x, int y) {
        System.out.println(Math.max(x, y));
    }
         
    public static void printName(){
       // System.out.println(name1); 오류 발생
       System.out.println(name2);
    }
}
```

*오류가 발생하는 이유: 변수 name1은 객체가 생성되어야 heap 영역에 변수가 생성된다. 그러나 printName() 메소드는 static 메소드여서 객체의 생성없이 접근할 수 있기 때문에 아직 할당되지 않은 name1에 접근하려고 하므로 문제가 발생함.
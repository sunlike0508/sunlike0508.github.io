---
title:  "자바 개념공부 06"
excerpt: "final에 대해서"
classes: wide
categories:
  - java
tags:
  - java
  - final
last_modified_at: 2020-04-13
---

#### Final

*final는 entity를 한 번만 할당하기 위해서 사용한다.

*즉, 두 번 이상 할당하려고 할 경우 오류가 발생한다.

*final은 크게 변수, 메소드, 클래스에서 사용한다.



**final 변수**

1.원시타입 : 가장 기본적인 타입. 한 번 초기화된 변수는 변경할 수 없다.

```java
public void test_final_primitive_variables() {
    final int x = 1; //x = 3; 한번 assign되면 변경할 수 없음.
}
```

2.객체타입 : final로 선언하면 변수에 다른 참조 값을 지정할 수 없다. 즉, 재변경(재할당)이 불가능. 단, 객체 자체가 불변이 아니기 때문에 객체의 속성(값)은 변경 가능

```java
public void test_final_reference_variables() {
    final Pet pet = new Pet();
    //pet = new Pet(); //다른 객체로 변경할수 없음
    pet.setWeight(3); //객체 필드는 변경할 수 있음
}
```

3.메소드 인자

```java
public class Pet {
    int weight;
    public void setWeight(final int weight) {
		//weight = 1; //final 인자는 메서드안에서 변경할 수 없음
    }
}
```

4.멤버변수

*멤버변수에 final로 선언하면 상수 값이 된다. 초기화는 딱 한 번 가능하다.

*클래스 변수(static)이냐 인스턴스 변수이냐에 따라 초기화 시점은 달라지므로 접근 시점, 방법이 다르다

```java
public class Cat extends Pet {
    final int i_value;
    static int s_value;

    // 인스턴스 블록에서는 인스턴스 변수 static 변수 모두 접근 가능
    {
        System.out.println("instance initializer block");
        i_value = 3;
        System.out.println("i_value: " + i_value);
        System.out.println("s_value: " + s_value);
    }

    // static 블록에서는 인스턴스 변수 접근 불가능
    static {
        System.out.println("static initializer block");
		//System.out.println("i_value: " + i_value); //static 블록에서 필드 접근 안됨
        System.out.println("s_value: " + s_value);
    }

    public Cat() {
        System.out.println("contructor: Cat");
    }
}
```



**final 메소드**

*메소드를 final로 선언하면 상속받은 클래스에서 오버라이드가 불가능하다.

*따라서 재정의하는 것을 원치 않을 때 사용하면 된다.

```java
public class Pet {
    public final void makeSound() {
        System.out.println("ahaha");
    }
}

public class Dog extends Pet {
    //final로된 메서드는 override할수 없음
     public void makeSound() {
     }
}

```



**final 클래스**

*클래스에 final을 선언하면 상속이 안된다. 클래스 그대로 사용해야함.

*Util 형식의 클래스나 상수 값을 모아놓은 Constants 클래스에 사용

1.상수클래스 

*상속해서 사용할 이유가 없음.

```java
public final class Constants {
    public static final int SIZE = 10;
}

public class SubConstants extends Constants { // 이럴 이유가 없다.
}

Contstans.SIZE // 이렇게 사용하면 됨
```

2. Util 클래스

*아래의 경우 java 라이브러리 정의된 string 클래스. 이같은 것을 상속하면 유지보수가 힘들어질 수도 있음.

```java
public final class String
    implements java.io.Serializable, Comparable<String>, CharSequence {
}
```

